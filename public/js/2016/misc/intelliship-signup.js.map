{"version":3,"sources":["intelliship-signup.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"intelliship-signup.js","sourcesContent":["/**\n * Created by Mike on 7/22/15.\n */\nISUser = new Vue({\n    el: '#intelliship-signup',\n    methods: {\n        submit: function () {\n            if (validateVisible()) {\n                this.send();\n            }\n        },\n        resendEmail: function () {\n            $.ajax({\n                url: '/shipping-software/sign-up/email',\n                method: 'post',\n                data: this.$data\n            }).done(function () {\n                alert('Email Sent!');\n            });\n        },\n        send: function () {\n            if (!this.$data.sending) {\n                this.$data.sending = true;\n                this.$data.intelliship_user.phonehome = this.$data.intelliship_user.phonebusiness; //dumb bug fix\n                slack('Intelliship Signup Sent: ' + JSON.stringify(this.$data));\n                $.ajax({\n                    url: '/shipping-software/sign-up/create',\n                    method: 'post',\n                    dataType: \"json\",\n                    data: this.$data\n                })\n                    .fail(function (response) {\n                        alert(\"Weird, it didn't go through. Try again?\");\n                        slack(\"BAD! Intelliship Signup: \" + JSON.stringify(response));\n                        ISUser.$data.sending = false;\n                    })\n                    .done(function (response) {\n                        slack(\"GOOD! Intelliship Signup: \" + JSON.stringify(response));\n                        ISUser.$data.sending = false;\n                        if (response.SUCCESS == '1') {\n                            ISUser.response = response;\n                            Interview.nextStep();\n                        } else if (response.SUCCESS == \"0\") {\n                            if (response.MESSAGE == \"Duplicate contact found.\") {\n                                response.MESSAGE = \"It looks like you've already created an \" +\n                                    \"account with that email address. Would you \" +\n                                    \"like to visit the login screen?\";\n                                if (confirm(response.MESSAGE)) {\n                                    window.location.href = 'https://shipping.lojistic.com';\n                                }\n                            } else {\n                                alert(response.MESSAGE);\n                            }\n                        }\n                    });\n            }\n        },\n        verifyUpsCredentials: function () {\n            this.$data.ups_credentials.loading = true;\n            $.ajax({\n                url: '/ups-user/validate',\n                dataType: \"json\",\n                method: 'post',\n                data: {\n                    username: this.$data.intelliship_user.upswebusername,\n                    password: this.$data.intelliship_user.upswebuserpassword\n                }\n            }).done(function (response) {\n                ISUser.$data.ups_credentials.pending = false;\n                ISUser.$data.ups_credentials.loading = false;\n                ISUser.$data.ups_credentials.valid = response.valid;\n            }).fail(function () {\n                //TODO: error message and exception handling\n                ISUser.$data.ups_credentials.pending = false;\n                ISUser.$data.ups_credentials.loading = false;\n                ISUser.$data.ups_credentials.valid = true;\n            });\n        },\n        toggle: function (attr) {\n            this.$data[attr] = !this.$data[attr];\n            Vue.nextTick(function () {\n                $(window).resize();\n            });\n        }\n    },\n    data: {\n        sending: false,\n        using_ups: false,\n        using_fedex: false,\n        response: '',\n        ups_credentials: {\n            pending: true,\n            loading: false,\n            valid: false\n        },\n        intelliship_user: {\n            action: 'configure_new_customer_user',\n            ajax: 1,\n            type: 'JSON',\n            contact_country: \"US\",\n            contact_firstname: \"\",\n            contact_lastname: \"\",\n            contact_company: \"\",\n            contact_email: \"\",\n            contact_password: \"\",\n            contact_confirmpassword: \"\",\n            phonebusiness: \"\",\n            contact_offercode: \"\",\n            contact_address1: \"\",\n            contact_address2: \"\",\n            contact_city: \"\",\n            contact_state: \"\",\n            contact_zip: \"\",\n            phonehome: \"\",\n            contact_fax: \"\",\n            phonemobile: \"\",\n            fedexwebaccount: \"\",\n            fedexmeternumber: \"\",\n            bill_address1: \"\",\n            bill_address2: \"\",\n            bill_city: \"\",\n            bill_state: \"\",\n            bill_zip: \"\",\n            bill_country: \"\",\n            upswebaccount: \"\",\n            upswebusername: \"\",\n            upswebuserpassword: \"\",\n            terms: false\n        }\n    }\n});\n\n//function go() {\n//    $('#bam').addClass('animated bounceIn');\n//    $('.interview').animate({'height': 0}, 1000,\n//    function () {\n//        $('.interview').css({display: none});\n//    });\n//}\n\nInterview.init(false);\n"],"sourceRoot":"/source/"}